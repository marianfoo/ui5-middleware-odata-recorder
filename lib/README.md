# lib/ Directory

This directory contains the **entry point** for the UI5 middleware.

## Structure

```
lib/
â””â”€â”€ middleware/
    â””â”€â”€ odataRecorder.js  <- Entry point (manually maintained)
```

## Purpose

The `lib/middleware/odataRecorder.js` file is a **simple wrapper** that loads the actual compiled code from `dist/`:

```javascript
module.exports = require('../../dist/middleware/odataRecorder.js').default;
```

## Why This Structure?

1. **`package.json`** specifies: `"main": "lib/middleware/odataRecorder.js"`
2. UI5 tooling looks for the middleware at this path
3. This file is **committed to git** (not generated)
4. It loads the actual implementation from `dist/` (which IS generated by TypeScript)

## Important

- âœ… **DO commit** `lib/middleware/odataRecorder.js` to git
- âŒ **DON'T delete** `lib/` with clean scripts
- ðŸ”§ TypeScript compiles to `dist/`, not `lib/`

## Build Process

```bash
# TypeScript compiles src/ â†’ dist/
npm run build

# The lib/ entry point (manual file) loads from dist/
# Result: package.json "main" â†’ lib/middleware/odataRecorder.js â†’ dist/middleware/odataRecorder.js
```

